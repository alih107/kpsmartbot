import sys
import linecache
import math

postamat = """–ü–æ—á—Ç–æ–º–∞—Ç –∏–ª–∏ –ø–æ—Å—Ç–∞–º–∞—Ç ‚Äì —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –ø–æ –≤—ã–¥–∞—á–µ —Ç–æ–≤–∞—Ä–æ–≤,
–∑–∞–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞—Ö –∏ –∫–∞—Ç–∞–ª–æ–≥–∞—Ö, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–∞–∫ —É—Å–ª—É–≥–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏.
–£–¥–æ–±—Å—Ç–≤–æ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è —Å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏, –≥–∏–±–∫–æ–º —Ä–µ–∂–∏–º–µ —Ä–∞–±–æ—Ç—ã –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ—Ç–µ—Ä–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤ –æ—á–µ—Ä–µ–¥–∏ –æ—Ç–¥–µ–ª–µ–Ω–∏—è.
"""

hybridpost_def = """–ì–∏–±—Ä–∏–¥–Ω–∞—è –ø–æ—á—Ç–∞ ‚Äì —ç—Ç–æ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –ø–æ –¥–æ—Å—Ç–∞–≤–∫–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –ø–∏—Å–µ–º –∞–¥—Ä–µ—Å–∞—Ç—É –≤ –≤–∏–¥–µ –ø–∏—Å—å–º–∞.
–í–∞–º –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—á–∞—Ç–∞—Ç—å –ø–∏—Å—å–º–∞ –∏ —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –∏—Ö –≤ –∫–æ–Ω–≤–µ—Ä—Ç—ã —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.
–ú—ã —Å–¥–µ–ª–∞–µ–º —ç—Ç–æ –≤—Å–µ –∑–∞ –í–∞—Å. –í—Å–µ, —á—Ç–æ –æ—Ç –í–∞—Å —Ç—Ä–µ–±—É–µ—Ç—Å—è ‚Äì –Ω–∞–ø–∏—Å–∞—Ç—å –ø–∏—Å—å–º–æ –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π —Ñ–æ—Ä–º–µ –∏–ª–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª 
–≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF, —É–∫–∞–∑–∞—Ç—å –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏, –∞ –º—ã —Ä–∞—Å–ø–µ—á–∞—Ç–∞–µ–º –µ–≥–æ, –∑–∞–ø–∞–∫—É–µ–º –≤ –∫–æ–Ω–≤–µ—Ä—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∏–º.
"""

what_is_supermarket = """–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç –ø–æ—Å—ã–ª–æ–∫ ‚Äì —ç—Ç–æ –ø–æ—á—Ç–æ–≤–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞, —Ä–∞–±–æ—Ç–∞—é—â–µ–µ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É 
—Å–∞–º–æ–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è, –≥–¥–µ –º–æ–∂–Ω–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å—ã–ª–∫—É, –∞ —Ç–∞–∫–∂–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–µ, –Ω–µ –∑–∞—Ç—Ä–∞—á–∏–≤–∞—è –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.
"""

fastmail_options = """–£ –Ω–∞—Å –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø—Ü–∏–π –ø–æ —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–µ: ¬´–û–ø—Ç–∏–º—É–º –∞—ç—Ä–æ–ø–æ—Ä—Ç/–ø–æ—á—Ç–∞–º—Ç¬ª –¥–ª—è —Å—Ä–æ—á–Ω—ã—Ö 
–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–æ 2-—É—Ö –∫–≥ –º–µ–∂–¥—É –ê—Å—Ç–∞–Ω–æ–π –∏ –ê–ª–º–∞—Ç—ã , ¬´–ü–ª–∞–Ω–µ—Ç–∞ —ç–∫—Å–ø—Ä–µ—Å—Å –†–§¬ª –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–Ω—ã—Ö –ø–æ—Å—ã–ª–æ–∫, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤ –†–§, 
–î–æ—Å—Ç–∞–≤–∫a ¬´–î–µ–Ω—å –≤ –¥–µ–Ω—å¬ª - –¥–æ—Å—Ç–∞–≤–∫–∞ –≤ –¥–µ–Ω—å –ø—Ä–∏–µ–º–∞ –º–µ–∂–¥—É –ê—Å—Ç–∞–Ω–æ–π –∏ –ê–ª–º–∞—Ç—ã, –î–æ—Å—Ç–∞–≤–∫a –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ ‚Äì –¥–æ—Å—Ç–∞–≤–∫–∞ 
–∫ 11/13 —á–∞—Å–∞–º –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏, ¬´–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≥–æ—Ä–æ–¥—É¬ª, ¬´–ú–æ—è —Å—Ç—Ä–∞–Ω–∞¬ª, ¬´–í–æ–∫–∑–∞–ª-–í–æ–∫–∑–∞–ª¬ª, –ü–ª–∞–Ω–µ—Ç–∞ —ç–∫—Å–ø—Ä–µ—Å—Å 
–°–ù–ì, –î–ó. –û –∫–∞–∫–æ–º –∏–∑ —ç—Ç–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –í—ã –±—ã —Ö–æ—Ç–µ–ª–∏ —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ?
"""

postamat_how = """–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω—ã–π –ø–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é –∏ —Ä–µ–∂–∏–º—É —Ä–∞–±–æ—Ç—ã –ø–æ—á—Ç–æ–º–∞—Ç –∏ –∑–∞–ø–∏—à–∏—Ç–µ –µ–≥–æ –∏–Ω–¥–µ–∫—Å. –ï—Å–ª–∏ –í—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ 
–ø–æ—Å—ã–ª–∫—É –∏–∑ –æ—Ç–¥–µ–ª–µ–Ω–∏—è, —É–∫–∞–∂–∏—Ç–µ –∏–Ω–¥–µ–∫—Å –ø–æ—á—Ç–æ–º–∞—Ç–∞, –∏ –º–æ–±–∏–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –ø–æ–ª—É—á–∞—Ç–µ–ª—è. –ï—Å–ª–∏ –í—ã –æ—Ñ–æ—Ä–º–ª—è–µ—Ç–µ –∑–∞–∫–∞–∑ –≤ 
–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ, –≤ –ø–æ–ª–µ –ê–¥—Ä–µ—Å —É–∫–∞–∂–∏—Ç–µ –º–µ—Å—Ç–æ—Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ—á—Ç–æ–º–∞—Ç–∞ (–ù–∞–ø—Ä–∏–º–µ—Ä: –¢–†–¶ –ú–µ–≥–∞-–ê—Å—Ç–∞–Ω–∞ - –ø–æ—á—Ç–æ–º–∞—Ç- 900511) –∏ 
–Ω–æ–º–µ—Ä —Å–≤–æ–µ–≥–æ –º–æ–±–∏–ª—å–Ω–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è –¥–ª—è –Ω–æ–º–µ—Ä–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ 
–º–∞–≥–∞–∑–∏–Ω—ã –Ω–µ —É–∫–∞–∑—ã–≤–∞—é—Ç –µ–≥–æ –≤ –∞–¥—Ä–µ—Å–Ω–æ–º —è—Ä–ª—ã–∫–µ), –≤ –ø–æ–ª–µ –ò–Ω–¥–µ–∫—Å (Zip code) ‚Äì –∏–Ω–¥–µ–∫—Å –ø–æ—á—Ç–æ–º–∞—Ç–∞. –î–æ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Å—ã–ª–∫–∏, 
—Å–ª–µ–¥–∏—Ç–µ –∑–∞ —Ç–µ–º, —á—Ç–æ–±—ã —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –º–æ–±–∏–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω, –Ω–∞—Ö–æ–¥–∏–ª—Å—è –≤ –∑–æ–Ω–µ –¥–æ—Å—Ç—É–ø–∞ –∏ –Ω–∞ –Ω–µ–º 
–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –∏ –æ–∂–∏–¥–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è. –ü–æ—Å–ª–µ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ—Å—ã–ª–∫–∏ –≤ –ø–æ—á—Ç–æ–º–∞—Ç –í–∞–º –ø–æ—Å—Ç—É–ø–∏—Ç SMS-—Å–æ–æ–±—â–µ–Ω–∏–µ —Å 
–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —è—á–µ–π–∫–∏. –•–æ—Ç–∏—Ç–µ –ª–∏ –í—ã —É–∑–Ω–∞—Ç—å –∏–Ω–¥–µ–∫—Å –±–ª–∏–∂–∞–π—à–µ–≥–æ –∫ –í–∞–º –ø–æ—á—Ç–æ–º–∞—Ç–∞?
"""

hybridpost_time = """–î–æ—Å—Ç–∞–≤–∫–∞ –≥–∏–±—Ä–∏–¥–Ω–æ–π –ø–æ—á—Ç—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π —Å –º–æ–º–µ–Ω—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏.
"""

postamat_info_access = """–ö–∞–∂–¥–∞—è –ø–æ—Å—ã–ª–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å—Ç–∞–º–∞—Ç–æ–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ, –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —è—á–µ–π–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ 
–≤–≤–µ–¥–µ–Ω–∏–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —à—Ç—Ä–∏—Ö-–∫–æ–¥–∞, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫ –∏–º–µ–Ω–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –∏ –µ–≥–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞.
"""

hybridpost_info = """–í –Ω–∞—Å—Ç–æ—è—â–∏–π –º–æ–º–µ–Ω—Ç –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Ç–æ–ª—å–∫–æ —á–µ—Ä–Ω–æ-–±–µ–ª—É—é –ø–µ—á–∞—Ç—å –¥–ª—è –≥–∏–±—Ä–∏–¥–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π.
"""

trackbynumber = """–í–æ–∑–º–æ–∂–Ω–æ, –Ω–æ–º–µ—Ä, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –í—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –æ—Ç—Å–ª–µ–¥–∏—Ç—å –¥–∞–Ω–Ω–æ–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –í–∞—à–µ–º—É 
–ø—Ä–æ—Ñ–∏–ª—é –Ω–∞ Post.kz. –í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –Ω–æ–º–µ—Ä–æ–º, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º –∫ –∞–∫–∫–∞—É–Ω—Ç—É, –ª–∏–±–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ –Ω–æ–≤—ã–π –Ω–æ–º–µ—Ä.
"""

redirect = """–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç–∞—Ç—É—Å –í–∞—à–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è ¬´–ü—Ä–∏–±—ã–ª–æ –∏ –æ–∂–∏–¥–∞–µ—Ç¬ª; –í –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —É–∫–∞–∑–∞–Ω –Ω–æ–º–µ—Ä –º–æ–±–∏–ª—å–Ω–æ–≥–æ 
—Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è; –ò —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –º–µ—Å—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏/–¥–æ—Å—Ç–∞–≤–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã.
"""

redirect_why = """–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç–∞—Ç—É—Å –í–∞—à–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è ¬´–ü—Ä–∏–±—ã–ª–æ –∏ –æ–∂–∏–¥–∞–µ—Ç¬ª; –í –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —É–∫–∞–∑–∞–Ω –Ω–æ–º–µ—Ä –º–æ–±–∏–ª—å–Ω–æ–≥–æ 
—Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è; –ò —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –º–µ—Å—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏/–¥–æ—Å—Ç–∞–≤–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã.
"""

package_how_long = """–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å—ã–ª–∫—É –∏–∑ –ø–æ—Å—Ç–∞–º–∞—Ç–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ —Ç—Ä–µ—Ö –¥–Ω–µ–π?
"""

trackbynumber_query = """–¢—Ä–µ–∫–∏–Ω–≥–æ–≤—ã–π –Ω–æ–º–µ—Ä - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º—ã–π –∫–∞–∂–¥–æ–º—É –ø–æ—á—Ç–æ–≤–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—é, 
–ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –í—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Å–ª–µ–¥–∏—Ç—å —Å–≤–æ–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. –¢—Ä–µ–∫-–Ω–æ–º–µ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ—á—Ç—ã –∏–ª–∏, –≤ —Å–ª—É—á–∞–µ 
–ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—á—Ç—ã –∏–∑-–∑–∞ —Ä—É–±–µ–∂–∞, –ø—Ä–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–∏ –≥—Ä–∞–Ω–∏—Ü—ã –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ.
"""

main_menu_attachment = {
            "attachment": {
                "type": "template",
                "payload": {
                    "template_type": "generic",
                    "elements": [
                        {
                            "title": "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
                            "buttons": [
                                {
                                    "type": "postback",
                                    "title": "üîç –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ",
                                    "payload": "tracking"
                                },
                                {
                                    "type": "postback",
                                    "title": "üìç–ë–ª–∏–∂–∞–π—à–∏–µ –æ—Ç–¥–µ–ª–µ–Ω–∏—è",
                                    "payload": "nearest"
                                },
                                {
                                    "type": "postback",
                                    "title": "üí∞ –§–∏–Ω–∞–Ω—Å—ã",
                                    "payload": "menu.finances"
                                }
                            ]
                        },
                        {
                            "title": "–î–æ–ø. —É—Å–ª—É–≥–∏",
                            "buttons": [
                                {
                                    "type": "postback",
                                    "title": "üí≤ –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç",
                                    "payload": "10.kursy"
                                },
                                {
                                    "type": "postback",
                                    "title": "üöó –®—Ç—Ä–∞—Ñ—ã –ü–î–î",
                                    "payload": "shtrafy"
                                }
                            ]
                        },
                        {
                            "title": "–ü—Ä–æ—á–∏–µ —É—Å–ª—É–≥–∏",
                            "buttons": [
                                {
                                    "type": "web_url",
                                    "title": "‚öñÔ∏è C—É–¥–µ–±–Ω—ã–µ —à—Ç—Ä–∞—Ñ—ã",
                                    "url": "https://post.kz/finance/payment/fines",
                                    "webview_height_ratio": "full"
                                },
                                {
                                    "type": "postback",
                                    "title": "üìÅ –ü—Ä–æ—á–µ–µ",
                                    "payload": "misc"
                                },
                                {
                                    "type": "postback",
                                    "title": "‚úñ –û—Ç–∫–ª—é—á–∏—Ç—å –±–æ—Ç–∞",
                                    "payload": "disable.bot"
                                }
                            ]
                        },
                        {
                            "title": "–ü—Ä–æ—Ñ–∏–ª—å –Ω–∞ post.kz",
                            "buttons": [
                                {
                                    "type": "postback",
                                    "title": "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",
                                    "payload": "auth"
                                },
                                {
                                    "type": "postback",
                                    "title": "–ú–æ–∏ –∫–∞—Ä—Ç—ã",
                                    "payload": "addcard"
                                },
                                {
                                    "type": "postback",
                                    "title": "–£–¥–∞–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏",
                                    "payload": "auth.delete"
                                }
                            ]
                        }
                    ]
                }
            }
        }

finances_buttons_attachment = {
            "attachment": {
                "type": "template",
                "payload": {
                    "template_type": "generic",
                    "elements": [
                        {
                            "title": "–§–∏–Ω–∞–Ω—Å—ã",
                            "buttons": [
                                {
                                    "type": "postback",
                                    "title": "üì≤ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞",
                                    "payload": "balance"
                                },
                                {
                                    "type": "postback",
                                    "title": "üöå –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –û–Ω–∞–π",
                                    "payload": "onai"
                                },
                                {
                                    "type": "postback",
                                    "title": "üí≥ –ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É",
                                    "payload": "card2card"
                                }

                            ]
                        },
                        {
                            "title": "–§–∏–Ω–∞–Ω—Å—ã",
                            "buttons": [
                                {
                                    "type": "postback",
                                    "title": "üí∏ –ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É–∫–∏",
                                    "payload": "card2cash"
                                },
                                {
                                    "type": "postback",
                                    "title": "üìÉ –û–ø–ª–∞—Ç–∞ –∫–æ–º.—É—Å–ª—É–≥",
                                    "payload": "komuslugi"
                                },
                                {
                                    "type": "postback",
                                    "title": "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
                                    "payload": "mainMenu"
                                }
                            ]
                        },
                    ]
                }
            }
        }

def get_distance_in_meters(lat1, lat2, lon1, lon2):
    """
    –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É 2 —Ç–æ—á–∫–∞–º–∏ –ó–µ–º–ª–∏ –≤ –º–µ—Ç—Ä–∞—Ö.
    """
    radius = 6371000
    fi1 = math.radians(lat1)
    fi2 = math.radians(lat2)
    delta_fi = math.radians(lat1 - lat2)
    delta_si = math.radians(lon1 - lon2)
    a = math.sin(delta_fi / 2) ** 2 + math.cos(fi1) * math.cos(fi2) * (math.sin(delta_si / 2) ** 2)
    c = 2 * math.atan2(math.sqrt(a), math.sqrt(1 - a))
    d = radius * c
    return round(d)

def insert_4_spaces(card):
    res = ''
    index = 0
    for c in card:
        res += c
        index += 1
        if index in [4, 8, 12]:
            res += ' '

    return res

def insert_space_onai(onai):
    res = ''
    index = 0
    for c in onai:
        res += c
        index += 1
        if index == 15:
            res += ' '
    return res

def insert_spaces_onai(onai):
    res = ''
    index = 0
    for c in onai:
        res += c
        index += 1
        if index in [4, 6, 11, 15]:
            res += ' '
    return res

def isAllDigits(card):
    for c in card:
        try:
            a = int(c)
        except:
            return False

    return True

def PrintException():
    exc_type, exc_obj, tb = sys.exc_info()
    f = tb.tb_frame
    lineno = tb.tb_lineno
    filename = f.f_code.co_filename
    linecache.checkcache(filename)
    line = linecache.getline(filename, lineno, f.f_globals)
    return 'EXCEPTION IN ({}, LINE {} "{}"): {}'.format(filename, lineno, line.strip(), exc_obj)

def check_csc(csc):
    try:
        number = int(csc)
        if number < 0 or number > 999:
            return False
    except:
        return False
    return True

def extract_digits(message):
    numbers = '0123456789'
    for i in message:
        if not i in numbers:
            message = message.replace(i, '')
    return message

def extract_digits_and_letters(message):
    numbers_digits = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'
    for i in message:
        if not i in numbers_digits:
            message = message.replace(i, '')
    return message